!function(){"use strict";const e=(e,t)=>{let s;return function(){const i=this,n=arguments;clearTimeout(s),s=setTimeout(function(){e.apply(i,n)},t)}},t=e=>{for(const[t,s]of Object.entries(e))[t](s)},s=(e,t)=>{for(const[s,i]of Object.entries(e)){if(i.event!==t)continue;const e=i.ref;e&&"function"==typeof e.init&&e.init(i.params||{})}},i={},n={};class a{static init=e=>{const t=`${e.selAccordion}:not(.is-initialized)`;document.querySelectorAll(t).forEach(t=>new a(t,e))};constructor(e,t){this.accordion=e,this.selTitle=t.selTitle,this.selContent=t.selContent,this.itemsMap=new Map,this.getCssCustomProperty=t.getCssCustomProperty,this.isOpenSingle="openSingle"===this.accordion.dataset.type,this.animationDelay=0,this.markInitialized(),this.getAnimationDelay(),this.createItemsMap(),this.startListening()}markInitialized=()=>{this.accordion.classList.add("is-initialized")};getAnimationDelay=()=>{const e=document.body,t=this.getCssCustomProperty(e,"--an-duration"),s=1e3*parseFloat(t.replace("s",""));this.animationDelay=s};createItemsMap=()=>{this.accordion.querySelectorAll(this.selTitle).forEach(e=>{const t=e.dataset.content,s=this.accordion.querySelector(`#${t}`);this.itemsMap.set(e,s)})};startListening=()=>{this.accordion.addEventListener("click",e=>{[...this.itemsMap.keys()].find(t=>t.contains(e.target))&&this.setItemState(e.target)}),this.accordion.addEventListener("keyup",this.checkKey)};setItemState=e=>{this.isOpenSingle&&e.classList.contains("is-active")||this.isOpenSingle&&this.closeAllItems(),this.toggleItem(e)};checkKey=e=>{e.preventDefault()," "===e.key&&this.setItemState(e.target)};toggleItem=e=>{const t=this.itemsMap.get(e);let s="true"===e.getAttribute("aria-expanded");s=!s,e.setAttribute("aria-expanded",s),t.classList.toggle("is-open"),e.classList.toggle("is-active")};scrollActiveItemIntoView=e=>{setTimeout(()=>{e.scrollIntoView()},this.animationDelay)};closeAllItems=()=>{this.itemsMap.forEach((e,t)=>{t.setAttribute("aria-expanded","false"),t.classList.remove("is-active"),e.classList.remove("is-open")})}}class r{static init=e=>{const t=`${e.selSwitch}:not(.is-initialized)`;document.querySelectorAll(t).forEach(t=>{new r(t,e)})};constructor(e,t){this.switch=e,this.themes=t.themes,this.selOptionsParent=t.selOptionsParent,this.optionsParent=document.querySelector(t.selOptionsParent),this.optionsParent?(this.selOption=t.selOption,this.classRoot=document.querySelector(t.selClassRoot),this.classRoot?(this.markInitialized(),this.createOptions(),this.startListening(),this.setPreselected()):this.handleMissingClassRoot()):this.handleMissingOptionsContainer()}markInitialized=()=>{this.switch.classList.add("is-initialized")};createOptions=()=>{const e=this.selOption.replace(".","");let t="";Object.keys(this.themes).forEach(s=>{t+=`<div class="m-colorSwitch__option ${e}" data-theme="${s}">${s}</div>`}),this.optionsParent.innerHTML=t,this.allOptions=this.optionsParent.querySelectorAll(this.selOption)};startListening=()=>{this.switch.addEventListener("click",e=>{const t=e.target.dataset.theme;t&&this.setColorTheme(t)})};setColorTheme=e=>{localStorage.setItem("colorTheme",e),this.deactivateThemes(),this.activateTheme(e)};activateTheme=e=>{const t=this.themes[e];if(!t)return;const s=this.switch.querySelector(`[data-theme="${e}"]`);s&&s.classList.add("is-active"),this.classRoot.classList.add(t)};deactivateThemes=()=>{this.allOptions.forEach(e=>e.classList.remove("is-active")),Object.values(this.themes).forEach(e=>{this.classRoot.classList.remove(e)})};setPreselected=()=>{const e=localStorage.getItem("colorTheme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;e?this.activateTheme(e):"dark"in this.themes&&"light"in this.themes&&(!e&&t?this.activateTheme("dark"):this.activateTheme("light"))};handleMissingOptionsContainer=()=>{console.warn("Missing options container! Initialization failed!")};handleMissingClassRoot=()=>{console.warn("Missing class root element! Initialization failed!")}}class o{static init=e=>{const t=document.querySelectorAll(e.selDialog);t.length&&new o(t,e)};constructor(e,t){this.lastFocused=null,this.selTriggerOpen=t.selTriggerOpen,this.selTriggerClose=t.selTriggerClose,this.allDialogs=e,this.allCloseTriggers=document.querySelectorAll(t.selTriggerClose),this.dialogTriggersMap=this.createDialogTriggersMap(),this.dialogTriggersMap.size>0&&this.startListening()}createDialogTriggersMap=()=>{const e=new Map;return this.allDialogs.forEach(t=>{const s=`${this.selTriggerOpen}[data-target="${t.id}"]`,i=document.querySelectorAll(s);e.set(t,[...i])}),e};startListening=()=>{document.addEventListener("click",e=>{this.checkClickedOpenTrigger(e),this.checkClickedCloseTrigger(e)}),document.addEventListener("keydown",e=>{"Escape"===e.key&&this.closeAllDialogs()})};checkClickedOpenTrigger=e=>{const t=e.target.closest(this.selTriggerOpen);t&&this.dialogTriggersMap.forEach((e,s)=>{e.includes(t)&&this.openDialog(s,e)})};checkClickedCloseTrigger=e=>{const t=e.target.closest(this.selTriggerClose),s=[...this.allDialogs].includes(e.target);(t||s)&&this.closeAllDialogs()};openDialog=(e,t)=>{this.lastFocused=document.activeElement,this.isModal(e)?e.showModal():e.show(),this.setAriaExpanded(t,"true"),this.handleBodyScroll("lock"),"function"==typeof e.focus&&e.focus()};closeAllDialogs=()=>{this.hasOpenDialogs()&&(this.dialogTriggersMap.forEach((e,t)=>{t.close(),this.setAriaExpanded(e,"false")}),this.handleBodyScroll("unlock"),this.lastFocused&&(this.lastFocused.focus(),this.lastFocused=null))};setAriaExpanded=(e,t)=>{e.forEach(e=>{e.setAttribute("aria-expanded",t)})};handleBodyScroll=e=>{"lock"===e?document.body.classList.add("is-scrollLocked"):document.body.classList.remove("is-scrollLocked")};isModal=e=>"modal"===e.dataset.type;hasOpenDialogs=()=>[...this.dialogTriggersMap].some(([e,t])=>e.hasAttribute("open"))}class l{static init(e){const t=`${e.selForm}:not(.has-filledMarks)`;this.allForms=document.querySelectorAll(t),this.allForms.forEach(t=>{new l(t,e)})}constructor(e,t){this.form=e,this.selItem=t.selItem,this.itemMap=[],this.markInitialized(),this.createItemMap(),this.markPrefilledInputs(),this.startListening()}markInitialized=()=>{this.form.classList.add("has-filledMarks")};createItemMap=()=>{this.form.querySelectorAll(this.selItem).forEach(e=>{const t=e.querySelector("input, textarea, select");if(!t)return;const s={item:e,input:t};this.itemMap.push(s)})};markPrefilledInputs=()=>{this.itemMap.forEach(({item:e,input:t})=>this.setValueState(t))};startListening=()=>{this.form.addEventListener("change",e=>{this.setValueState(e.target)})};setValueState=e=>{const t=this.itemMap.find(t=>t.input===e);if(!t)return;const{item:s}=t;e.value?s.classList.add("has-value"):s.classList.remove("has-value")}}class h{static init=e=>{const t=`${e.selForm}:not(.has-progressbar)`;document.querySelectorAll(t).forEach(t=>new h(t,e))};constructor(e,t){this.form=e,this.selBar=t.selBar,this.selValue=t.selValue,this.selField=t.selField,this.start=0,this.end=100,this.totalFields=0,this.radioBtnDoublets=0,this.filledFields=0,this.progressPerField=0,this.bar=this.form.querySelector(this.selBar),this.value=this.form.querySelector(this.selValue),this.hasRequiredElements()&&(this.markInitialized(),this.determineStartEnd(),this.collectFields(),this.countRadioBtnDoublets(),this.calculateProgressPerField(),this.updateProgress(),this.startListening())}markInitialized=()=>{this.form.classList.add("has-progressbar")};hasRequiredElements=()=>{const e=Boolean(this.bar),t=Boolean(this.value);return e||this.handleMissingElement("bar"),t||this.handleMissingElement("value"),e&&t};determineStartEnd=()=>{const e=parseInt(this.form.dataset.progressstart,10),t=parseInt(this.form.dataset.progressend,10);this.start=isNaN(e)?0:e,this.end=isNaN(t)?100:t,this.end<this.start&&this.handleEndBeforeStart()};collectFields=()=>{this.totalFields=Array.from(this.form.querySelectorAll(this.selField))};countRadioBtnDoublets=()=>{let e=new Set;this.totalFields.forEach(t=>{e.has(t.name)&&this.radioBtnDoublets++,e.add(t.name)})};countFilledFields=()=>{this.filledFields=this.totalFields.reduce((e,t)=>["radio","checkbox"].includes(t.type)?e+(t.checked?1:0):e+(""!==t.value.trim()?1:0),0)};calculateProgressPerField=()=>{const e=this.totalFields.length-this.radioBtnDoublets;this.progressPerField=e>0?(this.end-this.start)/e:0};startListening=()=>{this.form.addEventListener("change",e=>{e.target.matches(this.selField)&&this.updateProgress()})};updateProgress=()=>{const e=this.calculateProgress();this.bar.setAttribute("value",e),this.value.textContent=`${Math.round(e)}%`,Math.round(e)===this.end&&this.form.classList.add("is-complete")};calculateProgress=()=>{this.countFilledFields();const e=this.filledFields*this.progressPerField;return Math.min(this.start+e,this.end)};handleMissingElement=e=>{console.warn(`Missing form progress ${e} element!`),console.warn("Initialising of form progress element stopped!")};handleEndBeforeStart=()=>{this.end=this.start,console.warn("Form progress end percentage is higher than progress start percentage!")}}class c{static init=e=>{const t=`${e.selForm}:not(.has-validation)`;document.querySelectorAll(t).forEach(t=>new c(t,e))};constructor(e,t){this.form=e,this.availableLocales=t.availableLocales,this.config=t.config,this.classTo=t.config.classTo,this.errorClass=t.config.errorClass,this.errorTextClass=t.config.errorTextClass,this.selErrorItem=`.${this.classTo}.${this.errorClass}`,this.initForm(),this.markInitialized(),this.startListening()}initForm=()=>{this.validation=new Pristine(this.form,this.config),Pristine.setLocale(this.getLocale(this.availableLocales))};markInitialized=()=>{this.form.classList.add("has-validation")};startListening=()=>{this.form.addEventListener("submit",e=>{this.markSubmitted(),this.validation.validate()||(e.preventDefault(),this.updateAriaAttributes(),this.scrollFirstErrorIntoView())}),this.form.addEventListener("change",e=>{this.updateAriaAttributes()})};markSubmitted=()=>{this.form.classList.add("is-submitted")};getLocale=e=>{const t=document.documentElement.lang;return e.includes(t)?t:"en"};updateAriaAttributes=()=>{this.form.querySelectorAll("input, textarea, select").forEach(e=>{const t=e.closest(this.selErrorItem);if(!t)return void e.removeAttribute("aria-describedby");const s=t.querySelector(`.${this.errorTextClass}`);s.id=`${e.name}-error`,s.setAttribute("role","alert"),e.setAttribute("aria-describedby",s.id)})};scrollFirstErrorIntoView=()=>{this.form.querySelector(this.selErrorItem).scrollIntoView({behavior:"smooth",block:"center"})}}class d{static init=e=>{const t=`${e.selGalleryParent}:not(.is-initialized)`;document.querySelectorAll(t).forEach(t=>new d(t,e))};constructor(e,t){this.lightbox=document.querySelector(t.selBox),this.lightbox?(this.gallery=e,this.selGalleryImage=t.selGalleryImage,this.requiredElementKeys=t.requiredElements,this.requiredElements={},this.imageMap=[],this.currentMapIndex=0,this.lastFocusedElement=null,this.markInitialized(),this.setRequiredElements(t),this.hasRequiredElements()&&this.isDialog(this.lightbox)&&(this.createImagesMap(),this.preload(),this.checkNavigationAvailable(),this.startListening())):this.handleMissingElement("lightbox")}markInitialized=()=>{this.gallery.classList.add("is-initialized")};setRequiredElements=e=>{this.requiredElementKeys.forEach(t=>{const s=e[`sel${t.charAt(0).toUpperCase()+t.slice(1)}`];this.requiredElements[t]=this.lightbox.querySelector(s)})};hasRequiredElements=()=>{let e=!0;return this.requiredElementKeys.forEach(t=>{this.requiredElements[t]||(this.handleMissingElement(t),e=!1)}),e};isDialog=()=>{const e="DIALOG"===this.lightbox.nodeName;return e||this.handleMissingDialogElement(),!!e};createImagesMap=()=>{const e=this.gallery.querySelectorAll(this.selGalleryImage);0===e.length&&this.handleMissingGalleryImages(),e.forEach(e=>{const t={image:e,largeImage:e.dataset.largeimage,title:e.dataset.title,description:e.dataset.description};this.imageMap.push(t)})};preload=()=>{this.imageMap.forEach(e=>{(new Image).src=e.largeImage})};checkNavigationAvailable=()=>{1===this.imageMap.length&&(this.requiredElements.prevButton.style.display="none",this.requiredElements.nextButton.style.display="none")};startListening=()=>{0!==this.imageMap.length&&(this.gallery.addEventListener("click",e=>{const t=this.imageMap.findIndex(t=>t.image===e.target);-1!=t&&(this.currentMapIndex=t,this.setLightboxData(this.imageMap[t]),this.openLightbox())}),this.requiredElements.close.addEventListener("click",()=>{this.closeLightbox()}),this.lightbox.addEventListener("click",e=>{e.target===this.lightbox&&this.closeLightbox()}),this.requiredElements.prevButton.addEventListener("click",()=>this.changeImage(-1)),this.requiredElements.nextButton.addEventListener("click",()=>this.changeImage(1)),document.addEventListener("keydown",this.checkKey))};setLightboxData=e=>{this.requiredElements.image.src=e.largeImage,this.requiredElements.title.innerHTML=e.title,this.requiredElements.description.innerHTML=e.description};openLightbox=()=>{this.lastFocusedElement=document.activeElement,this.lightbox.showModal()};openLightboxOnEnter=()=>{const e=document.activeElement,t=this.imageMap.findIndex(t=>t.image===e);this.currentMapIndex=t,this.setLightboxData(this.imageMap[t]),this.openLightbox()};closeLightbox=()=>{this.lastFocusedElement.focus(),this.lightbox.close()};checkKey=e=>{switch(e.key){case"ArrowLeft":this.changeImage(-1);break;case"ArrowRight":this.changeImage(1);break;case"Escape":this.closeLightbox();break;case"Enter":if(this.lightbox.contains(e.target))return;this.openLightboxOnEnter();break;default:return}};changeImage(e){this.currentMapIndex=(this.currentMapIndex+e+this.imageMap.length)%this.imageMap.length,this.setLightboxData(this.imageMap[this.currentMapIndex])}handleMissingElement=e=>{console.warn(`Lightbox element '${e}' is missing!`),console.warn("Initialising lightbox was stopped!")};handleMissingDialogElement=()=>{this.lightbox.style.display="none",console.warn("Lightbox element is not a <dialog>!"),console.warn("Initialising lightbox was stopped!")};handleMissingGalleryImages=()=>{console.warn("No gallery images found!")}}class u{static init=e=>{const t=`${e.selTrigger}:not(.is-initialized)`;document.querySelectorAll(t).forEach(t=>new u(t,e))};constructor(e,t){this.trigger=e,this.textOpen=t.textTriggerOpen,this.textClosed=t.textTriggerClosed;const s=e.dataset.target;this.content=document.getElementById(s),this.content?(this.markInitialized(),this.startListening()):this.handleMissingContent(s)}markInitialized=()=>{this.trigger.classList.add("is-initialized")};startListening=()=>{this.trigger.addEventListener("click",()=>{this.toggleTrigger()})};toggleTrigger=()=>{const e="open"===this.content.dataset.state,t=e?"closed":"open",s=e?"false":"true",i=e?this.textClosed:this.textOpen;this.content.dataset.state=t,this.trigger.setAttribute("aria-expanded",s),this.trigger.textContent=i};handleMissingContent=()=>{console.warn(`Missing content! Behavior 'more/less' not available for content ${contentID}`)}}class m{static init=e=>{const t=`${e.selRoot}:not(.has-previewImg)`;document.querySelectorAll(t).forEach(t=>new m(t,e))};constructor(e,t){this.root=e,this.selBox=t.selBox,this.selImage=t.selImage,this.markInitialized(),this.findAlreadyLoadedImages(),this.startListening()}markInitialized=()=>{this.root.classList.add("has-previewImg")};findAlreadyLoadedImages=()=>{this.root.querySelectorAll(this.selBox).forEach(e=>{const t=e.querySelector(this.selImage);t||this.handleMissingImage(e),t&&t.complete&&this.markLoaded(t)})};startListening=()=>{this.root.addEventListener("load",e=>{e.target.matches(this.selImage)&&this.markLoaded(e.target)},!0)};markLoaded=e=>{e.classList.add("is-loaded")};handleMissingImage=e=>{console.warn(`Missing image inside previewImg box ${e}`)}}class g{static init=e=>{const t=`${e.selVideo}:not(.is-initialized)`;document.querySelectorAll(t).forEach(t=>new g(t,e))};constructor(e,t){this.video=e,this.viewportMap=t.viewportMap,this.getCssCustomProperty=t.getCssCustomProperty,this.debounceThenExecute=t.debounceThenExecute,this.srcAttribute=this.video.querySelector("source"),this.srcs={},this.versions=[],this.missingVersions=[],this.bestGivenSource="",this.lastUsedFile="",this.markInitialized(),this.getSrcs()&&(this.qualityOrder=Object.keys(this.srcs),this.createVersionArray(),0!==this.versions.length?(this.setBestGivenSource(),this.findMissingVersions(),this.prepareVideo(),this.watchResize()):this.handleMissingVersions())}markInitialized=()=>{this.video.classList.add("is-initialized")};getSrcs=()=>{if(!this.video.dataset.srcs)return this.handleMissingSources(),!1;try{return this.srcs=JSON.parse(this.video.dataset.srcs),!0}catch{return this.handleInvalidJSON(),!1}};createVersionArray=()=>{Object.values(this.viewportMap).forEach(e=>{this.versions.push(e,`${e}Retina`)}),this.versions=[...new Set(this.versions)]};setBestGivenSource=()=>{this.versions.forEach(e=>{this.srcs[e]&&(this.bestGivenSource=this.srcs[e])})};findMissingVersions=()=>{this.versions.forEach(e=>{this.srcs[e]||this.missingVersions.push(e)}),this.missingVersions.length>0&&this.createFallback()};createFallback=()=>{this.missingVersions.forEach(e=>{this.srcs[e]=this.getNextHigherVersion(e)})};getNextHigherVersion=e=>{for(let t=this.versions.indexOf(e)+1;t<this.versions.length;t++)if(this.srcs[this.versions[t]])return this.srcs[this.versions[t]];return this.bestGivenSource};prepareVideo=()=>{const{viewport:e,density:t}=this.getDeviceData(),s="normal"===t?"":this.capitalizeFirstLetter(t),i=this.viewportMap[e]+s,n=this.srcs[i];if(!this.needsUpgrade(n,this.lastUsedFile))return;const a=n.split(".").pop();if(this.srcAttribute.src=n,this.srcAttribute.type=`video/${a}`,this.video.load(),this.video.autoplay)try{this.video.play()}catch{this.handleFailedPlay()}this.lastUsedFile=n};getDeviceData=()=>{const e=document.body;return{density:this.getCssCustomProperty(e,"--density"),viewport:this.getCssCustomProperty(e,"--viewportName")}};needsUpgrade=(e,t)=>{if(e===t)return!1;return this.qualityOrder.findIndex(t=>this.srcs[t]===e)>=this.qualityOrder.findIndex(e=>this.srcs[e]===t)};watchResize=()=>{const e=this.debounceThenExecute(this.prepareVideo,300);window.addEventListener("resize",e)};handleMissingSources=()=>{console.warn("Video data missing! (path/types/files required)"),console.warn("Video initializing was stopped!")};handleInvalidJSON=()=>{console.warn("Invalid JSON in data-srcs!"),console.warn("Video initializing was stopped!")};handleMissingVersions=()=>{console.warn("No valid video sources found!"),console.warn("Video initializing was stopped!")};handleFailedPlay=()=>{console.warn("Failed auto-play. Video not muted â€¦?")};capitalizeFirstLetter=e=>e.charAt(0).toUpperCase()+e.slice(1)}class p{static init=e=>{const t=document.body;""!==e.getCssCustomProperty(t,"--scrollbarWidth")||new p(e)};constructor(e={}){const{useResizeObserver:t=!0,useMutationObserver:s=!0,useBodyObserver:i=!1,useWindowResize:n=!0}=e;this.root=document.documentElement,this.rootStyle=this.root.style,this.scrollbarWidth=0,this.lastWidth=0,this.observers=[],this.getScrollbarWidth=e.getScrollbarWidth,this.measureScrollbarWidth(),this.setInitialState(),this.initObservers({useResizeObserver:t,useMutationObserver:s,useBodyObserver:i,useWindowResize:n})}measureScrollbarWidth(){const e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e),this.scrollbarWidth=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}setInitialState=()=>{!this.getScrollbarWidth()?this.setCustomProperties(0):this.setCustomProperties(this.scrollbarWidth)};setCustomProperties(e){requestAnimationFrame(()=>{this.rootStyle.setProperty("--scrollbarWidth",`${e}px`),this.rootStyle.setProperty("--scrollbarCompensation",`${0===e?this.scrollbarWidth:0}px`)})}updateScrollbarVars(){const e=this.getScrollbarWidth();e!==this.lastWidth&&(this.setCustomProperties(e),this.lastWidth=e)}initObservers({useResizeObserver:e,useMutationObserver:t,useBodyObserver:s,useWindowResize:i}){if(e&&"ResizeObserver"in window){const e=new ResizeObserver(()=>this.updateScrollbarVars());e.observe(this.root),this.observers.push(()=>e.disconnect())}if(t&&"MutationObserver"in window){const e=new MutationObserver(()=>this.updateScrollbarVars());e.observe(this.root,{attributes:!0,attributeFilter:["style","class"]}),this.observers.push(()=>e.disconnect())}if(s&&"MutationObserver"in window){const e=new MutationObserver(()=>this.updateScrollbarVars());e.observe(document.body,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),this.observers.push(()=>e.disconnect())}if(i){const e=()=>this.updateScrollbarVars();window.addEventListener("resize",e),this.observers.push(()=>window.removeEventListener("resize",e))}}triggerUpdate(){this.updateScrollbarVars()}stopObserving(){this.observers.forEach(e=>e())}}class v{static init=e=>{const t=`${e.selNav}:not(.is-initialized)`;document.querySelectorAll(t).forEach(t=>new v(t,e))};constructor(e,t){this.nav=e,this.selNavItem=t.selNavItem,this.selContentArea=`.${this.nav.dataset.contentarea}`,this.selContentItem=t.selContentItem,this.itemsMap={},this.intersectingContent=[],this.highlightTopmost="bottom"!=this.nav.dataset.highlight,this.hasContentArea()?(this.content=document.querySelector(this.selContentArea),this.content?(this.markInitialized(),this.createItemsMap(),this.showOrphanedContent(),this.observeAllContentItems()):this.handleMissingContentArea()):this.handleMissingContentArea()}markInitialized=()=>{this.nav.classList.add("is-initialized")};createItemsMap=()=>{this.nav.querySelectorAll(this.selNavItem).forEach(e=>{const t=this.getHrefAnchor(e);if(!t)return;const s=document.getElementById(t);s?this.itemsMap[t]={navItem:e,contentItem:s}:this.handleMissingContentItem(t)})};getHrefAnchor=e=>{if(!e.href)return void this.handleMissingHref(e);const t=new URL(e.href).hash.substring(1);if(t)return t;this.handleMissingHrefAnchor(e)};showOrphanedContent=()=>{this.content.querySelectorAll(this.selContentItem).forEach(e=>{this.itemsMap.hasOwnProperty(e.id)||this.handleOrphanedContent(e.id)})};observeAllContentItems=()=>{const e=new IntersectionObserver(e=>{e.forEach(this.updateIntersectingContent),this.deactivateAllNavItems();const t=this.findActiveItem();t&&this.activateNavItem(t)});Object.values(this.itemsMap).forEach(t=>{e.observe(t.contentItem)})};updateIntersectingContent=e=>{!e.isIntersecting||this.intersectingContent.includes(e.target)?this.intersectingContent=this.intersectingContent.filter(t=>t!==e.target):this.intersectingContent.push(e.target)};findActiveItem=()=>{if(0===this.intersectingContent.length)return null;const e=[...this.intersectingContent].sort((e,t)=>e.getBoundingClientRect().top-t.getBoundingClientRect().top);return this.highlightTopmost?e[0]:e[e.length-1]};activateNavItem=e=>{const t=this.getMatchingNavItem(e);t.classList.add("is-active"),t.setAttribute("aria-current","true")};deactivateAllNavItems=()=>{Object.values(this.itemsMap).forEach(e=>{e.navItem.classList.remove("is-active"),e.navItem.removeAttribute("aria-current")})};getMatchingNavItem=e=>this.itemsMap[e.id].navItem;hasContentArea=()=>!!document.querySelector(this.selContentArea);handleMissingContentArea=()=>{console.warn("Missing content area for scrollspy navigation")};handleMissingHref=e=>{console.warn(`Missing href attribute at '${e.outerHTML}'`)};handleMissingHrefAnchor=e=>{console.warn(`Missing href anchor at ${e.outerHTML}`)};handleMissingContentItem=e=>{console.warn(`No matching content for scrollspy item '${e}'`)};handleOrphanedContent=e=>{console.warn(`Orphaned scrollspy content '${e}'`)}}class b{static init=e=>{const t=`${e.selSelect}:not(.is-initialized)`;document.querySelectorAll(t).forEach(e=>new b(e))};constructor(e){this.select=e,this.handleChange(),this.markInitialized()}markInitialized=()=>{this.select.classList.add("is-initialized")};handleChange=()=>{this.setState(),this.select.addEventListener("change",()=>{this.setState()})};setState=()=>{this.selectHasValue()?this.select.classList.add("has-value"):this.select.classList.remove("has-value")};selectHasValue=()=>!!this.select.value}class f{static init=e=>{const t=`${e.selSlider}:not(.is-initialized)`;document.querySelectorAll(t).forEach(t=>new f(t,e))};constructor(e,t){this.allConfigs=t.config,this.slider=e,this.generateRandomString=t.generateRandomString,this.type="",this.uniqueString="",this.uniqueClass="",this.config={},this.clonedConfig={},this.swiper=null,this.initSlider()}initSlider=()=>{this.type=this.slider.dataset.type,this.type?(this.uniqueClass=this.createUniqueClass(),this.clonedConfig=this.adaptConfig(),this.clonedConfig&&(this.markInitialized(),this.initKeyboardHandling(),this.swiper=new Swiper(this.slider,this.clonedConfig))):this.handleMissingSliderType()};markInitialized=()=>{this.slider.classList.add(this.uniqueClass,"is-initialized"),this.slider.setAttribute("tabindex","0")};createUniqueClass=()=>`slider-${this.generateRandomString(10)}`;adaptConfig=()=>{let e=this.allConfigs[this.type];if(e)return e=JSON.parse(JSON.stringify(e)),e=this.adaptNavigation(e),e=this.adaptPagination(e),e.keyboard={enabled:!1,onlyInViewport:!1},e;this.handleMissingConfig()};adaptNavigation=e=>{if(!e.navigation)return e;const t=e.navigation.prevEl,s=e.navigation.nextEl,i=`.${this.uniqueClass} ${t}`,n=`.${this.uniqueClass} ${s}`;return e.navigation.prevEl=i,e.navigation.nextEl=n,e};adaptPagination=e=>{if(!e.pagination)return e;const t=e.pagination.el,s=`.${this.uniqueClass} ${t}`;return e.pagination.el=s,e};initKeyboardHandling=()=>{this.slider.addEventListener("focusin",()=>{this.swiper?.keyboard?.enable&&this.swiper.keyboard.enable()}),this.slider.addEventListener("focusout",()=>{this.swiper?.keyboard?.disable&&this.swiper.keyboard.disable()})};handleMissingSliderType=()=>{console.warn(`Missing slider type for ${this.uniqueClass}`),console.warn("Slider initialization failed!")};handleMissingConfig=()=>{console.warn(`Missing configuration for ${this.uniqueClass}`),console.warn("Slider initialization failed!")}}class w{static init=e=>{const t=`${e.selSticky}:not(.is-initialized)`;document.querySelectorAll(t).forEach(e=>new w(e))};constructor(e){this.sticky=e,this.scrollWatcher=null,this.markInitialized(),this.createScrollWatcher(),this.observeStickyPosition()}markInitialized=()=>{this.sticky.classList.add("is-initialized")};createScrollWatcher=()=>{this.scrollWatcher=document.createElement("div"),this.scrollWatcher.setAttribute("data-scrollwatcher",""),this.sticky.before(this.scrollWatcher)};observeStickyPosition=()=>{new IntersectionObserver(e=>{this.sticky.classList.toggle("is-stuck",!e[0].isIntersecting)}).observe(this.scrollWatcher)}}class y{static init=e=>{const t=`${e.selSwipeElement}:not(.is-initialized)`;document.querySelectorAll(t).forEach(t=>{new y(t,e)})};constructor(e,t){this.swipeElement=e,this.swipeThreshold=t.swipeThreshold,this.swipeTimeout=t.swipeTimeout,this.swipeUnit=t.swipeUnit,this.debounceThenExecute=t.debounceThenExecute,this.xDown=null,this.yDown=null,this.xDiff=null,this.yDiff=null,this.timeDown=null,this.timeDiff=null,this.startEl=null,this.touchCount=0,this.changedTouches=[],this.defineSwipeThreshold(),this.startListening(),this.markInitialized(),this.watchResize()}markInitialized=()=>{this.swipeElement.classList.add("is-initialized")};startListening=()=>{const e={touchstart:this.handleTouchStart,touchmove:this.handleTouchMove,touchend:this.handleTouchEnd,touchcancel:this.resetValues};Object.entries(e).forEach(([e,t])=>{this.swipeElement.addEventListener(e,t)})};handleTouchStart=e=>{this.touchCount=e.touches.length,this.touchCount>1?this.resetValues():(this.startEl=e.target,this.timeDown=Date.now(),this.xDown=e.touches[0].clientX,this.yDown=e.touches[0].clientY,this.xDiff=0,this.yDiff=0)};handleTouchMove=e=>{if(!this.xDown||!this.yDown)return;if(e.touches.length>1)return void this.resetValues();const t=e.touches[0].clientX,s=e.touches[0].clientY;this.xDiff=this.xDown-t,this.yDiff=this.yDown-s};handleTouchEnd=e=>{this.touchCount>1||this.startEl!==e.target?this.resetValues():(this.timeDiff=Date.now()-this.timeDown,this.changedTouches=e.changedTouches||e.touches||[],this.eventType=this.determineSwipeEventType(),this.eventType?(this.createEventData(),this.dispatchSwipeEvents(),this.resetValues()):this.resetValues())};defineSwipeThreshold=()=>{"vh"===this.swipeUnit&&(this.swipeThreshold=this.getThresholdVhInPx()),"vw"===this.swipeUnit&&(this.swipeThreshold=this.getThresholdVwInPx())};getThresholdVwInPx=()=>Math.round(this.swipeThreshold/100*document.documentElement.clientWidth);getThresholdVhInPx=()=>Math.round(this.swipeThreshold/100*document.documentElement.clientHeight);determineSwipeEventType=()=>Math.abs(this.xDiff)>Math.abs(this.yDiff)?this.determineHorizontalSwipe():this.determineVerticalSwipe();determineHorizontalSwipe=()=>Math.abs(this.xDiff)<=this.swipeThreshold||this.timeDiff>=this.swipeTimeout?"":this.xDiff>0?"yoreSwipe-left":"yoreSwipe-right";determineVerticalSwipe=()=>Math.abs(this.yDiff)<=this.swipeThreshold||this.timeDiff>=this.swipeTimeout?"":this.yDiff>0?"yoreSwipe-up":"yoreSwipe-down";createEventData=()=>{this.eventData={dir:this.eventType.replace(/swiped-/,""),touchType:(this.changedTouches[0]||{}).touchType||"direct",fingers:this.touchCount,xStart:parseInt(this.xDown,10),xEnd:parseInt((this.changedTouches[0]||{}).clientX||-1,10),yStart:parseInt(this.yDown,10),yEnd:parseInt((this.changedTouches[0]||{}).clientY||-1,10)}};dispatchSwipeEvents=()=>{this.startEl.dispatchEvent(new CustomEvent("yoreSwipe",{bubbles:!0,cancelable:!0,detail:this.eventData})),this.startEl.dispatchEvent(new CustomEvent(this.eventType,{bubbles:!0,cancelable:!0,detail:this.eventData}))};resetValues=()=>{this.xDown=null,this.yDown=null,this.xDiff=null,this.yDiff=null,this.timeDown=null,this.timeDiff=null,this.eventType=null,this.eventData=null,this.startEl=null,this.changedTouches=[],this.touchCount=0};watchResize=()=>{const e=this.debounceThenExecute(this.defineSwipeThreshold,300);window.addEventListener("resize",()=>e())}}class I{static init=e=>{const t=`${e.selModule}:not(.is-initialized)`;document.querySelectorAll(t).forEach(t=>{new I(t,e)})};constructor(e,t){this.module=e,this.mode="",this.selTitle=t.selTabcordionTitle,this.selContent=t.selTabcordionContent,this.itemsMap={},this.activeItem=null,this.isViewportOrUp=t.isViewportOrUp,this.debounceThenExecute=t.debounceThenExecute,this.markInitialized(),this.defineMode(),this.createItemMap(),this.createAccordionTitles(),this.showOrphanedContent(),this.activateLinkedItem(),this.activateDefaultItem(),this.startListening(),this.watchResize()}markInitialized=()=>{this.module.classList.add("is-initialized")};defineMode=()=>{const e=this.module.dataset.tabviewport;this.isViewportOrUp(e)?this.setMode("tabs","accordion"):this.setMode("accordion","tabs")};setMode=(e,t)=>{this.module.classList.contains(`is-${e}`)||(this.module.classList.remove(`is-${t}`),this.module.classList.add(`is-${e}`),this.mode=e)};createItemMap=()=>{this.module.querySelectorAll(this.selTitle).forEach(e=>{const t=e.dataset.content;if(!t)return;const s=document.getElementById(t);s?this.itemsMap[t]={itemTitle:e,itemContent:s}:this.handleMissingContentItem(t)})};createAccordionTitles=()=>{Object.values(this.itemsMap).forEach(e=>{const t=e.itemContent.id,s=document.createElement("button"),i=e.itemContent.dataset.label;s.classList.add("m-tabcordion__accordionTitle","js-tabcordionAccordionTitle"),s.addEventListener("click",()=>this.openItem(e)),s.setAttribute("role","tab"),s.setAttribute("aria-controls",t),s.setAttribute("aria-selected","false"),s.setAttribute("tabindex",-1),s.innerHTML=i,e.itemContent.before(s),this.itemsMap[t].accordionTitle=s})};showOrphanedContent=()=>{this.module.querySelectorAll(this.selContent).forEach(e=>{this.itemsMap.hasOwnProperty(e.id)||this.handleOrphanedContent(e.id)})};activateLinkedItem=()=>{if(!location.hash)return;const e=location.hash.replace("#","");this.itemsMap.hasOwnProperty(e)?this.openItem(this.itemsMap[e]):this.handleMissingLinkedItem(e)};activateDefaultItem=()=>{if(this.activeItem)return;const e=Object.values(this.itemsMap)[0];this.openItem(e)};startListening=()=>{this.module.addEventListener("click",e=>{const t=e.target,s=Object.values(this.itemsMap).find(e=>e.itemTitle===t||e.accordionTitle===t);s&&s!==this.activeItem&&this.openItem(s)}),this.module.addEventListener("keydown",this.handleKeydown),this.module.addEventListener("keyup",this.handleKeyup)};handleKeydown=e=>{const t=this.getFocusedItem();if(!t)return;const{key:s}=e;if("Enter"===s||" "===s)return void e.preventDefault();let i=null;switch(s){case"ArrowLeft":case"ArrowUp":i=this.getPreviousItem(t);break;case"ArrowRight":case"ArrowDown":i=this.getNextItem(t);break;case"Home":i=this.getFirstItem();break;case"End":i=this.getLastItem();break;default:return}if(!i)return;("accordion"===this.mode?i.accordionTitle:i.itemTitle).focus()};handleKeyup=e=>{if("Enter"!==e.key&&" "!==e.key)return;const t=this.getFocusedItem();t&&this.openItem(t)};openItem=e=>{this.closeActiveItem(),this.toggleItemClass(e,"add"),this.updateAriaAttributes(e,!0),this.activeItem=e};closeActiveItem=()=>{this.activeItem&&(this.toggleItemClass(this.activeItem,"remove"),this.updateAriaAttributes(this.activeItem,!1))};toggleItemClass=(e,t)=>{["itemTitle","accordionTitle","itemContent"].forEach(s=>{e[s].classList[t]("is-activeTabcordionItem")})};updateAriaAttributes=(e,t)=>{e.itemTitle.setAttribute("aria-selected",t?"true":"false"),e.itemTitle.setAttribute("tabindex",t?"0":"-1"),e.accordionTitle.setAttribute("aria-selected",t?"true":"false"),e.accordionTitle.setAttribute("tabindex",t?"0":"-1"),e.itemContent.hidden=!t};watchResize=()=>{const e=this.debounceThenExecute(this.defineMode,300);window.addEventListener("resize",()=>{e()})};getFocusedItem=()=>Object.values(this.itemsMap).find(e=>e.itemTitle===document.activeElement||e.accordionTitle===document.activeElement);getFirstItem=()=>Object.values(this.itemsMap)[0];getLastItem=()=>Object.values(this.itemsMap).slice(-1)[0];getPreviousItem=e=>this.getSiblingTab(e,-1);getNextItem=e=>this.getSiblingTab(e,1);getSiblingTab=(e,t)=>{const s=Object.values(this.itemsMap),i=s.indexOf(e);return s[(i+t+s.length)%s.length]};handleOrphanedContent=e=>{console.warn(`Orphaned tabcordion content item '${e}'`)};handleMissingLinkedItem=e=>{console.warn(`Missing linked item '${e}'`)};handleMissingContentItem=e=>{console.warn(`Missing tabcordion content '${e}'`)}}class T{static init=e=>{document.querySelectorAll(`${e.selModule}:not(.is-initialized)`).forEach(t=>new T(t,e))};constructor(e,t){this.module=e,this.selTabTitle=t.selTabTitle,this.selTabContent=t.selTabContent,this.itemsMap={},this.activeItem=null,this.markInitialized(),this.createItemMap(),this.showOrphanedContent(),this.activateLinkedTab(),this.activateDefaultTab(),this.startListening()}markInitialized=()=>this.module.classList.add("is-initialized");createItemMap=()=>{this.module.querySelectorAll(this.selTabTitle).forEach(e=>{const t=e.dataset.content;if(!t)return;const s=document.getElementById(t);s?this.itemsMap[t]={tabTitle:e,tabContentItem:s}:this.handleMissingContentItem(t)})};showOrphanedContent=()=>{this.module.querySelectorAll(this.selTabContent).forEach(e=>{this.itemsMap[e.id]||this.handleOrphanedContent(e.id)})};activateLinkedTab=()=>{const e=location.hash.replace("#","");this.itemsMap[e]&&this.openTab(this.itemsMap[e])};activateDefaultTab=()=>{if(this.activeItem)return;const e=Object.values(this.itemsMap)[0];e&&this.openTab(e)};startListening=()=>{this.module.addEventListener("click",this.handleClick),this.module.addEventListener("keydown",this.handleKeydown),this.module.addEventListener("keyup",this.handleKeyup)};handleClick=e=>{const t=e.target.closest(this.selTabTitle);if(!t)return;const s=Object.values(this.itemsMap).find(e=>e.tabTitle===t);s&&s!==this.activeItem&&this.openTab(s)};handleKeydown=e=>{const t=this.getActiveTab();if(!t)return;"Enter"!==e.key&&" "!==e.key||e.preventDefault();let s=null;switch(e.key){case"ArrowLeft":s=this.getPreviousTab(t);break;case"ArrowRight":s=this.getNextTab(t);break;case"Home":s=this.getFirstTab();break;case"End":s=this.getLastTab();break;default:return}s&&s.tabTitle.focus()};handleKeyup=e=>{if("Enter"!==e.key&&" "!==e.key)return;const t=this.getActiveTab();t&&this.openTab(t)};openTab=e=>{this.closeActiveTab(),this.toggleItemClass(e,!0),this.updateAriaAttributes(e,!0),this.activeItem=e};closeActiveTab=()=>{this.activeItem&&(this.toggleItemClass(this.activeItem,!1),this.updateAriaAttributes(this.activeItem,!1))};toggleItemClass=(e,t)=>{e.tabTitle.classList.toggle("is-activeTab",t),e.tabContentItem.classList.toggle("is-activeTab",t)};updateAriaAttributes=(e,t)=>{e.tabTitle.setAttribute("aria-selected",t?"true":"false"),e.tabTitle.setAttribute("tabindex",t?"0":"-1"),e.tabContentItem.hidden=!t};getActiveTab=()=>Object.values(this.itemsMap).find(e=>e.tabTitle===document.activeElement);getFirstTab=()=>Object.values(this.itemsMap)[0];getLastTab=()=>Object.values(this.itemsMap).slice(-1)[0];getPreviousTab=e=>this.getSiblingTab(e,-1);getNextTab=e=>this.getSiblingTab(e,1);getSiblingTab=(e,t)=>{const s=Object.values(this.itemsMap),i=s.indexOf(e);return s[(i+t+s.length)%s.length]};handleOrphanedContent=e=>console.warn(`Orphaned tab content: '${e}'`);handleMissingContentItem=e=>console.warn(`Missing tab content: '${e}'`)}const E=(e,t)=>getComputedStyle(e).getPropertyValue(t).trim(),M={Accordion:{ref:a,event:"dom",params:{selAccordion:".js-accordion",selTitle:".js-navWidgetTitle",selContent:".js-navWidgetContent",getCssCustomProperty:E}},ColorThemeSwitch:{ref:r,event:"dom",params:{selClassRoot:"html",selSwitch:".js-colorSwitch",selOptionsParent:".js-colorSwitchOptions",selOption:".js-setColorTheme",themes:{light:"t-velvetLight",dark:"t-velvetDark"}}},Dialogs:{ref:o,event:"load",params:{selDialog:".js-dialog",selTriggerOpen:".js-openDialog",selTriggerClose:".js-closeDialog"}},FilledInputs:{ref:l,event:"load",params:{selForm:".js-markFilledInputs",selItem:".js-formItem"}},FormProgress:{ref:h,event:"load",params:{selForm:".js-showProgress",selBar:".js-progressBar",selValue:".js-progressValue",selField:".js-progressField"}},FormValidation:{ref:c,event:"load",params:{selForm:".js-validate",availableLocales:["de","en"],config:{classTo:"c-form__item",errorClass:"is-invalid",successClass:"is-valid",errorTextParent:"c-form__item",errorTextTag:"div",errorTextClass:"text-help"}}},Lightbox:{ref:d,event:"load",params:{requiredElements:["close","prevButton","nextButton","image","title","description"],selBox:".js-lightbox",selClose:".js-lightboxClose",selPrevButton:".js-lightboxPrev",selNextButton:".js-lightboxNext",selImage:".js-lightboxImage",selTitle:".js-lightboxTitle",selDescription:".js-lightboxDescription",selGalleryParent:".js-lightboxGallery",selGalleryImage:".js-showInLightbox"}},MoreLess:{ref:u,event:"dom",params:{selTrigger:".js-showMoreLess",textTriggerClosed:"Show more",textTriggerOpen:"Show less"}},PreviewImg:{ref:m,event:"dom",params:{selRoot:".js-preview",selBox:".js-previewBox",selImage:".js-previewImg"}},ResponsiveVideo:{ref:g,event:"dom",params:{selVideo:".js-responsiveVideo",viewportMap:{tiny:"mobile",small:"mobile",medium:"tablet",large:"desktop",xxl:"desktop"},getCssCustomProperty:E,debounceThenExecute:e}},ScrollbarObserver:{ref:p,event:"load",params:{useResizeObserver:!0,useMutationObserver:!0,useBodyObserver:!1,useWindowResize:!0,getScrollbarWidth:()=>window.innerWidth-document.documentElement.clientWidth,getCssCustomProperty:E}},Scrollspy:{ref:v,event:"load",params:{selNav:".js-scrollspyNav",selNavItem:".js-scrollspyNavItem",selContentArea:".js-scrollspyContent",selContentItem:".js-scrollspyContentItem"}},SelectfieldColor:{ref:b,event:"load",params:{selSelect:".js-setSelectColor"}},Slider:{ref:f,event:"dom",params:{selSlider:".js-slider",generateRandomString:e=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=new Array(e),i=new Uint32Array(e);window.crypto.getRandomValues(i);for(let n=0;n<e;n++)s[n]=t.charAt(i[n]%62);return s.join("")},config:{demoA:{speed:800,slidesPerView:"1",spaceBetween:10,keyboard:{enabled:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{768:{slidesPerView:"2"},990:{slidesPerView:"3"}}},demoB:{speed:800,slidesPerView:"1",spaceBetween:75,keyboard:{enabled:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination"},breakpoints:{990:{slidesPerView:"2"}}}}}},StickyObserver:{ref:w,event:"load",params:{selSticky:".js-markWhenStuck"}},SwipeEvents:{ref:y,event:"load",params:{selSwipeElement:".js-addSwipeEvents",swipeTimeout:"500",swipeUnit:"px",swipeThreshold:20,debounceThenExecute:e}},Tabcordion:{ref:I,event:"dom",params:{selModule:".js-tabcordion",selTabcordionTitle:".js-tabcordionTitle",selTabcordionContent:".js-tabcordionContent",isViewportOrUp:e=>{const t=["tiny","small","medium","large","xxl"];if(!t.includes(e))return console.warn(`'${e}' is not a viewport!`),!1;const s=(()=>{const e=document.body;return getCssCustomProperty(e,"--viewportName")})();return t.indexOf(s)>=t.indexOf(e)},debounceThenExecute:e}},Tabs:{ref:T,event:"dom",params:{selModule:".js-tabs",selTabTitle:".js-tabTitle",selTabContent:".js-tabContent"}}};let C=e(t,300);const S=e=>{switch(e.type){case"DOMContentLoaded":t(n),s(M,"dom"),(e=>{for(const[t,s]of Object.entries(e))bindEvent(s.event,s.selector,t)})(i);break;case"load":t(n),s(M,"load");break;case"resize":C(n)}};window.yoreJS=window.yoreJS||{},window.yoreJS.initOnEvent=S,window.yoreJS.events=["DOMContentLoaded","load","resize","yoreAjaxSuccess"],window.yoreJS.events.forEach(e=>{let t;e.startsWith("yore")&&(t=window),"DOMContentLoaded"===e&&(t=document),t||(t=window),t.addEventListener(e,S)})}();
